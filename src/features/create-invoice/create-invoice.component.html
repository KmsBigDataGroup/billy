<h2>New invoice</h2>
<div class="invoice">
  <user-business [user]="user" (onBusinessChange)="handleBusinessChange($event)"></user-business>
  <div class="row">
    <div class="col-sm-4 offset-sm-8">
      <customer
        [customers]="customers"
        (onAddCustomer)="handleAddCustomer($event)"
        (onEditCustomer)="handleEditCustomer($event)"
      ></customer>
    </div>
  </div>
  <div class="invoice-date-number clearfix">
    <span>
      <input-edit [initialValue]="invoice.location" (onChange)="handleEditLocation($event)"></input-edit>,
      <input-edit [initialValue]="invoice.date" (onChange)="handleEditDate($event)" type="datepicker"></input-edit>
    </span>
    <span class="float-xs-right">
      Invoice #
      <input-edit
        class="invoice-number"
        [charsLength]="4"
        [initialValue]="invoice.number"
        type="number"
        (onChange)="handleEditNumber($event)"
      ></input-edit>
    </span>
  </div>
  <tasks
    [tasks]="invoice.tasks"
    (onAddTask)="handleAddTask($event)"
    (onEditTask)="handleEditTask($event)"
    (onRemoveTask)="handleRemoveTask($event)"
  ></tasks>
  <taxes
    [subtotal]="invoice.tasks | reduceSum:'amount'"
    [availableTaxes]="storeTaxes"
    [invoiceTaxes]="invoice.taxes"
    (onAddTax)="handleAddTax($event)"
    (onAddInvoiceTax)="handleAddInvoiceTax($event)"
    (onEditTax)="handleEditTax($event)"
    (onRemoveTax)="handleRemoveTax($event)"
  ></taxes>
</div>
