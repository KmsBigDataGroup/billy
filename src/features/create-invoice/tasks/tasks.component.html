<table class="table tasks">
  <thead>
    <tr>
      <th class="header-task">Task</th>
      <th class="header-quantity">Quantity</th>
      <th class="header-price">Price</th>
      <th class="header-amount">Amount</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let task of tasks" [attr.data-id]="task.id">
      <td class="task-desc">
        <icon class="delete-btn task-btn" name="circle-minus" [size]="1.5" (click)="handleRemoveTask(task.id)"></icon>
        <input
          [value]="task.description"
          (change)="handleTaskChange('description', task.id, $event)"
          class="form-control"
          placeholder="Add a description of the task or product"
          type="text"
        />
      </td>
      <td>
        <input
          [value]="task.quantity"
          (change)="handleTaskChange('quantity', task.id, $event)"
          class="form-control"
          placeholder="0"
          type="text"
        />
      </td>
      <td>
        <input
          [value]="task.price"
          (change)="handleTaskChange('price', task.id, $event)"
          class="form-control"
          placeholder="0"
          type="text"
        />
      </td>
      <td class="text-xs-right">{{task.amount | currency:'EUR':true}}</td>
    </tr>

    <!-- New Task Row -->
    <tr class="new-task-row">
      <td class="new-task-desc">
        <icon class="add-btn task-btn" name="plus-circle" [size]="1.5" (click)="handleAddTask()"></icon>
        <input
          [value]="newTask.description"
          (change)="handleTaskChange('description', 'new-task', $event)"
          name="description"
          class="form-control"
          placeholder="Add a description of the task or product"
          type="text"
        />
      </td>
      <td>
        <input
          [value]="newTask.quantity"
          (change)="handleTaskChange('quantity', 'new-task', $event)"
          class="form-control"
          placeholder="0"
          type="text"
        />
      </td>
      <td>
        <input
          [value]="newTask.price"
          (change)="handleTaskChange('price', 'new-task', $event)"
          class="form-control"
          placeholder="0"
          type="text"
        />
      </td>
      <td class="text-xs-right">{{ newTask.amount | currency:'EUR':true }}</td>
    </tr>
    <tr class="invoice-subtotal">
      <td colspan="3"><strong>Subtotal</strong></td>
      <td class="text-xs-right">{{tasks | reduceSum:'amount' | currency:'EUR':true }}</td>
    </tr>
  </tbody>
</table>
